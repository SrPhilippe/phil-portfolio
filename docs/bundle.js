(()=>{"use strict";(()=>{function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["active"];(n=t.classList).add.apply(n,e(r))},r=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["active"];(n=t.classList).remove.apply(n,e(r))},o=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["active"];(n=t.classList).toggle.apply(n,e(r))};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelector(e)}var i=function(){return Date.now()/1e3|0},s="9CEj6LfIzI9NzUiv_";"https://api.github.com/users/".concat("srphilippe","/repos");function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c,u,d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=document.querySelector(t),this._inputWithErrors=new Set,this._form.addEventListener("submit",(function(e){e.preventDefault(),n.hasErrors}))}var t,n;return t=e,(n=[{key:"registerInput",value:function(e,t){var n,r=this,o=this._form.querySelector('[data-input="'.concat(e,'"]'));this._inputWithErrors.add(o),t.pattern=null!==(n=t.pattern)&&void 0!==n?n:/[^]*/,t.message="",o.addEventListener("input",(function(e){return r.checkErrors(e,o,t)})),this.createElementError(o)}},{key:"checkErrors",value:function(e,t,n){t.value.match(n.pattern)?t.value.length<n.min||t.value.length>n.max?(this._inputWithErrors.add(t),n.message="Pode conter entre ".concat(n.min," e ").concat(n.max," caracteres.")):(this._inputWithErrors.delete(t),n.message=""):(this._inputWithErrors.add(t),n.message="O padrão de ".concat("email"," digitado não é válido.")),t.value.length>0?(t.previousElementSibling.classList.add("active"),t.classList.add("active")):(t.previousElementSibling.classList.remove("active"),t.classList.remove("active"),n.message=""),this.updateElementError(e.currentTarget,n.message)}},{key:"hasErrors",get:function(){return this._inputWithErrors.size>0}},{key:"createElementError",value:function(e){var t;if(null===(t=e.closest("li").querySelector(".log"))||void 0===t||!t){var n=document.createElement("p");n.classList.add("log"),e.after(n)}}},{key:"updateElementError",value:function(e,t){var n=e.closest("li").querySelector(".log");""!==t?(n.textContent=t,n.classList.add("active"),e.classList.add("invalid")):(n.classList.remove("active"),e.classList.remove("invalid"))}},{key:"verifyToken",value:function(){token=localStorage.token}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m=null!==(c=Number(localStorage.token))&&void 0!==c&&c,v=null!==(u=Number(localStorage.lastTimestamp))&&void 0!==u&&u,f=window.innerWidth,p=new d(".contact-form");p.registerInput("username",{min:3,max:23,pattern:null}),p.registerInput("message",{min:6,max:1e3,pattern:null}),p.registerInput("mail",{min:8,max:30,pattern:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/}),emailjs.init(s),document.querySelector(".items-wrapper.carousel").querySelector(".items").addEventListener("wheel",(function(e){e.deltaY>0?e.target.scrollBy(50,0):e.target.scrollBy(-50,0)}));var h=a("header"),g=a(".contact-form"),y=document.querySelectorAll(".sc"),E=a(".scroll-top"),b=a("nav.menu");g.addEventListener("submit",(function(e){if(e.preventDefault(),nameValid&&emailValid&&messageValid){var t=a(".sc.contact .popup"),n=t.querySelector(".info"),r=t.querySelector("lds-ring");if((m=localStorage.token)&&v||(m=localStorage.token=3,v=localStorage.lastTimestamp=i()),m>0)m--,localStorage.token=m,r.style.display="inline-block",n.textContent="Enviando",show(t),e.target.id_number.value=1e5*Math.random()|0,e.target.to_name.value="Philippe",console.log("Enviado"),window.setTimeout((function(){hide(t)}),2e3),emailjs.sendForm("service_5isf3yr","template_3fubw4l",e.target).then((function(){for(var e in g.reset(),inputs)inputs[e].classList.remove("active"),inputs[e].previousElementSibling.classList.remove("active");nameValid,emailValid,messageValid=!1,r.style.display="none",n.textContent="Sua mensagem foi enviada!",window.setTimeout((function(){hide(t)}),2e3)}));else(i()-v)/60/60>24?(m=localStorage.token=3,v=localStorage.lastTimestamp=i()):console.log("Você só poderá enviar outra mensagem após ".concat(24," horas."))}else showInputLog(e.target.querySelector('input[type="submit"]'))})),window.addEventListener("load",(function(e){L();var t=S(h);f<768&&w(!0);var o=document.querySelectorAll("ul>li[data-nav]");new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(r(t),r(E)):(n(t),n(E))}))})).observe(h);var a=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?o.forEach((function(t){r(t),e.target.classList.contains(t.dataset.nav)&&n(t)})):o.forEach((function(e){"top"===e.dataset.nav&&n(e)}))}))}),{threshold:.5});y.forEach((function(e){a.observe(e),e.style.scrollMarginTop="".concat(t.offsetHeight,"px")}))}));var w=function(e){var t,a=null!==(t=document.querySelector(".menu-mobile"))&&void 0!==t&&t,i=document.querySelectorAll("nav.menu>ul>li");if(a)e?n(a):r(a);else{var s=document.createElement("div");n(s,["menu-mobile"]);for(var l=0;l<3;l++){var c=document.createElement("span");s.append(c)}b.after(s),s.addEventListener("click",(function(e){o(b),o(e.currentTarget,["opened"])})),e&&n(s)}i.forEach((function(e){e.addEventListener("click",(function(e){r(b),r(e.currentTarget)}))}))},S=function(e){var t=e.cloneNode(!0);return n(t,["clone"]),r(t,["top"]),t.removeAttribute("id"),e.before(t),t},L=function(){var e=a(".sc.intro .mask");e.style.borderRightWidth="".concat(e.parentNode.offsetWidth,"px"),e.style.borderTopWidth="".concat(e.parentNode.offsetHeight,"px")};window.addEventListener("resize",(function(e){f=window.innerWidth,L(),w(f<768)})),E.addEventListener("click",(function(e){window.scrollTo({top:0,behavior:"smooth"})}))})()})();
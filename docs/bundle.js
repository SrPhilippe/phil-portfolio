(()=>{"use strict";(()=>{function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["active"];(n=e.classList).add.apply(n,t(r))},a=function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["active"];(n=e.classList).remove.apply(n,t(r))},i=function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["active"];(n=e.classList).toggle.apply(n,t(r))};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelector(e)}var s=function(){return Date.now()/1e3|0};function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(t);return Object.entries(n).forEach((function(t){var n=e(t,2),o=n[0],a=n[1];"class"!==o?"dataset"!==o?"text"!==o?r.setAttribute(o,a):r.textContent=a:Object.entries(a).forEach((function(t){var n=e(t,2),o=n[0],a=n[1];r.dataset[o]=a})):r.classList.add(a)})),r}var u="srphilippe",m={public:{emailjs:"9CEj6LfIzI9NzUiv_",github:"https://api.github.com/users/".concat(u),repos:"https://api.github.com/users/".concat(u,"/repos")}};function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=c(t),this._inputWithErrors=new Set,this._token=n.token||!1,this._timeStamp=n.lastTimestamp||!1,this._form.addEventListener("submit",(function(e){if(e.preventDefault(),r.tokenExpiration(),0===r._inputWithErrors.size){var t=c(".sc.contact .popup"),n=c(".lds-ring",t),i=c(".info",t),s=c(".control",t),l=c("button",s);l.addEventListener("click",(function(e){a(t)})),console.log(l),n.style.display="inline-block",i.textContent="Enviando",o(t),e.target.id_number.value=1e5*Math.random()|0,e.target.to_name.value="Philippe",emailjs.sendForm("service_5isf3yr","template_3fubw4l",e.target).then((function(){r._form.reset(),document.querySelectorAll('textarea, input:not([type="hidden"], [type="submit"])').forEach((function(e){a(e),a(e.previousElementSibling)})),n.style.display="none",i.textContent="Sua mensagem foi enviada!",o(s)}))}else console.error("Error",r._inputWithErrors)}))}var t,n;return t=e,(n=[{key:"registerInput",value:function(e,t){var n,r=this,o=function(e){switch(e){case"username":return"nome";case"message":return"mensagem";case"mail":return"e-mail"}}(e),a=c('[data-input="'.concat(e,'"]'),this._form);this._inputWithErrors.add(a),t.pattern=null!==(n=t.pattern)&&void 0!==n?n:/[^]*/,t.message="",a.addEventListener("input",(function(e){return r.checkErrors(e,t,o)})),this.createElementError(a)}},{key:"checkErrors",value:function(e,t,n){var r=e.currentTarget;r.value.match(t.pattern)?r.value.length<t.min||r.value.length>t.max?(this._inputWithErrors.add(r),t.message="Pode conter entre ".concat(t.min," e ").concat(t.max," caracteres.")):(this._inputWithErrors.delete(r),t.message=""):(this._inputWithErrors.add(r),t.message="O padrão de ".concat(n," digitado não é válido.")),r.value.length>0?(o(r.previousElementSibling),o(r)):(a(r.previousElementSibling),a(r),t.message=""),this.updateElementError(e.currentTarget,t.message)}},{key:"createElementError",value:function(e){var t;if(!1===(null!==(t=e.closest("li").querySelector(".log"))&&void 0!==t&&t)){var n=document.createElement("p");o(n,["log"]),e.after(n)}}},{key:"updateElementError",value:function(e,t){var n=e.closest("li").querySelector(".log");""!==t?(n.textContent=t,o(n),o(e,["invalid"])):(a(n),a(e,["invalid"]))}},{key:"hasErrors",get:function(){return this._inputWithErrors.size>0}},{key:"executeToken",value:function(e){switch(e){case"get":this._token=Number(localStorage.token),this._timeStamp=Number(localStorage.lastTimestamp);case"update":localStorage.token=this._token,localStorage.lastTimestamp=this._timeStamp;case"reset":this._token=localStorage.token=3,this.timeStamp=localStorage.lastTimestamp=s()}}},{key:"tokenSubtract",value:function(e){this._token-=e,this.executeToken("update")}},{key:"tokenExpiration",value:function(){if(this._token&&this._timeStamp||this.executeToken("reset"),this._token>0)return this._inputWithErrors.delete("token"),void this.tokenSubtract(1);this.hasErrors.add("token"),this.timeSpent(s,this._timeStamp)>5?this.executeToken("reset"):console.log("Você só poderá enviar outra mensagem após ".concat(5," horas."))}},{key:"convertTime",value:function(e,t){switch(e){case"minutes":return t/60;case"hour":return t/60/60;case"day":return t/60/60/24;default:return t}}},{key:"timeSpent",value:function(e,t){return t-e}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),f=window.innerWidth,h=new d(".contact-form",{token:Number(localStorage.token),lastTimestamp:Number(localStorage.lastTimestamp)});h.registerInput("username",{min:3,max:23,pattern:null}),h.registerInput("message",{min:6,max:1e3,pattern:null}),h.registerInput("mail",{min:8,max:30,pattern:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/}),emailjs.init(m.public.emailjs),document.querySelector(".items-wrapper.carousel").querySelector(".items").addEventListener("wheel",(function(e){e.deltaY>0?e.target.scrollBy(50,0):e.target.scrollBy(-50,0)}));var v=c("header"),g=document.querySelectorAll(".sc"),y=c(".scroll-top"),b=c("nav.menu"),E=document.querySelectorAll("ul>li[data-nav]");window.addEventListener("load",(function(e){w();var t=S(v);f<768&&k(!0),new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(a(t),a(y)):(o(t),o(y))}))})).observe(v);var n=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?E.forEach((function(t){a(t),e.target.classList.contains(t.dataset.nav)&&o(t)})):E.forEach((function(e){"top"===e.dataset.nav&&o(e)}))}))}),{threshold:.5});g.forEach((function(e){n.observe(e),e.style.scrollMarginTop="".concat(t.offsetHeight,"px")}))}));var k=function(e){var t,n=null!==(t=document.querySelector(".menu-mobile"))&&void 0!==t&&t,r=document.querySelectorAll("nav.menu>ul>li");if(n)e?o(n):a(n);else{for(var c=l("div",{class:"menu-mobile"}),s=0;s<3;s++){var u=l("span");c.append(u)}b.after(c),c.addEventListener("click",(function(e){i(b),i(e.currentTarget,["opened"])})),r.forEach((function(e){e.addEventListener("click",(function(e){a(b),a(c,["opened"])}))})),e&&o(c)}},S=function(e){var t=e.cloneNode(!0);return o(t,["clone"]),a(t,["top"]),t.removeAttribute("id"),e.before(t),t},w=function(){var e=c(".sc.intro .mask");e.style.borderRightWidth="".concat(e.parentNode.offsetWidth,"px"),e.style.borderTopWidth="".concat(e.parentNode.offsetHeight,"px")};window.addEventListener("resize",(function(e){f=window.innerWidth,w(),k(f<768)})),y.addEventListener("click",(function(e){window.scrollTo({top:0,behavior:"smooth"})}));var _=document.querySelector(".sc.repo .container"),x=l("div",{class:"content"});_.append(x),fetch(m.public.repos).then((function(e){return e.json()})).then((function(e){e.forEach((function(e,t){if(!1===e.fork){var n='\n          <p class="row name"><a href="'.concat(e.html_url,'" target="_blank" rel="noopener">').concat(e.name,'</a></p>\n          <p class="row description"> ').concat(e.description,'</p>\n          <p class="row language">{language_data}</p>\n          <a class="row button" href="').concat(e.html_url,'" target="_blank">Ir para repositório<i class="bx bx-link-external"></i></a>\n        '),r=l("div",{class:"item"});r.innerHTML=n,_.querySelector(".content").append(r)}}))})),fetch(m.public.github).then((function(e){return e.json()})).then((function(e){var t=c(".profile-image"),n=l("img",{src:e.avatar_url});t.append(n)}))})()})();
(()=>{"use strict";function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelector(e)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n,r,a=new(function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=document.querySelector(t),this._inputWithErrors=new Set,this._form.addEventListener("submit",(function(e){e.preventDefault(),n.hasErrors||console.log("the form was submitted")}))}var n,r;return n=e,(r=[{key:"registerInput",value:function(e,t){var n,r=this,a=this._form.querySelector('[data-input="'.concat(e,'"]'));this._inputWithErrors.add(a),t.pattern=null!==(n=t.pattern)&&void 0!==n?n:/[^]*/,t.message="",a.addEventListener("input",(function(e){return r.checkErrors(e,a,t)})),this.createElementError(a)}},{key:"checkErrors",value:function(e,t,n){t.value.match(n.pattern)?t.value.length<n.min||t.value.length>n.max?(this._inputWithErrors.add(t),n.message="Pode conter entre ".concat(n.min," e ").concat(n.max," caracteres.")):(this._inputWithErrors.delete(t),n.message=""):(this._inputWithErrors.add(t),n.message="O padrão de ".concat("email"," digitado não é válido.")),t.value.length>0?(t.previousElementSibling.classList.add("active"),t.classList.add("active")):(t.previousElementSibling.classList.remove("active"),t.classList.remove("active"),n.message=""),this.updateElementError(e.currentTarget,n.message)}},{key:"hasErrors",get:function(){return this._inputWithErrors.size>0}},{key:"createElementError",value:function(e){var t;if(null===(t=e.closest("li").querySelector(".log"))||void 0===t||!t){var n=document.createElement("p");n.classList.add("log"),e.after(n)}}},{key:"updateElementError",value:function(e,t){var n=e.closest("li").querySelector(".log");""!==t?(n.textContent=t,n.classList.add("active"),e.classList.add("invalid")):(n.classList.remove("active"),e.classList.remove("invalid"))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}())(".contact-form");a.registerInput("username",{min:3,max:23,pattern:null}),a.registerInput("message",{min:6,max:1e3,pattern:null}),a.registerInput("mail",{min:8,max:30,pattern:/^[^ ]+@[^ ]+\.[a-z]{2,3}$/}),emailjs.init("9CEj6LfIzI9NzUiv_"),document.querySelector(".items-wrapper.carousel").querySelector(".items").addEventListener("wheel",(function(e){e.deltaY>0?e.target.scrollBy(50,0):e.target.scrollBy(-50,0)}));var i=null!==(n=Number(localStorage.token))&&void 0!==n&&n,o=null!==(r=Number(localStorage.lastTimestamp))&&void 0!==r&&r,s=window.innerWidth,l=e("header"),c=e(".contact-form"),u=e(".sc.slider"),d=document.querySelectorAll(".sc"),m=e(".scroll-top"),v=e("nav.menu");c.addEventListener("submit",(function(t){if(t.preventDefault(),nameValid&&emailValid&&messageValid){var n=e(".sc.contact .popup"),r=n.querySelector(".info"),a=n.querySelector("lds-ring");if((i=localStorage.token)&&o||(i=localStorage.token=3,o=localStorage.lastTimestamp=g()),i>0)i--,localStorage.token=i,a.style.display="inline-block",r.textContent="Enviando",show(n),t.target.id_number.value=1e5*Math.random()|0,t.target.to_name.value="Philippe",console.log("Enviado"),window.setTimeout((function(){hide(n)}),2e3),emailjs.sendForm("service_5isf3yr","template_3fubw4l",t.target).then((function(){for(var e in c.reset(),inputs)inputs[e].classList.remove("active"),inputs[e].previousElementSibling.classList.remove("active");nameValid,emailValid,messageValid=!1,a.style.display="none",r.textContent="Sua mensagem foi enviada!",window.setTimeout((function(){hide(n)}),2e3)}));else(g()-o)/60/60>24?(i=localStorage.token=3,o=localStorage.lastTimestamp=g()):console.log("Você só poderá enviar outra mensagem após ".concat(24," horas."))}else showInputLog(t.target.querySelector('input[type="submit"]'))})),window.addEventListener("load",(function(e){h();var t=p(l),n=document.querySelectorAll("ul>li[data-nav]"),r=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(t.classList.remove("active"),m.classList.remove("active")):(t.classList.add("active"),m.classList.add("active"))}))}),{rootMargin:"-".concat(u.offsetHeight,"px 0px 0px 0px")}),a=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&n.forEach((function(t){t.classList.remove("active"),e.target.classList.contains(t.dataset.nav)&&t.classList.add("active")}))}))}),{threshold:.5});if(r.observe(u),d.forEach((function(e){a.observe(e)})),a.observe(l),s<768){f();var i=document.querySelectorAll(".menu-mobile").item(0),o=document.querySelectorAll("nav.menu").item(0),c=document.querySelectorAll("nav.menu>ul>li");o.remove(),i.addEventListener("click",(function(e){v.classList.toggle("active"),e.currentTarget.classList.toggle("active")})),c.forEach((function(e){e.addEventListener("click",(function(e){v.classList.remove("active"),i.classList.remove("active")}))}))}}));var f=function(){var e=document.createElement("div");e.classList.add("menu-mobile");for(var t=0;t<3;t++){var n=document.createElement("span");e.append(n)}v.after(e)},p=function(t){var n=t.firstElementChild.cloneNode(!0),r=e(".header.clone");return r.appendChild(n),r},h=function(){var t=e(".sc.intro .mask");t.style.borderRightWidth="".concat(t.parentNode.offsetWidth,"px"),t.style.borderTopWidth="".concat(t.parentNode.offsetHeight,"px")},g=function(){return Date.now()/1e3|0};window.addEventListener("resize",(function(e){h(),window.innerWidth})),m.addEventListener("click",(function(e){window.scrollTo({top:0,behavior:"smooth"})}))})();
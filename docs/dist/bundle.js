(()=>{"use strict";var e,t,n=null!==(e=Number(localStorage.token))&&void 0!==e&&e,i=null!==(t=Number(localStorage.lastTimestamp))&&void 0!==t&&t,o=window.innerWidth,a=document.querySelector("header"),r=document.querySelector(".contact-form"),c=document.querySelector(".sc.slider"),l=document.querySelectorAll(".sc"),s=document.querySelector(".scroll-top"),u=document.querySelector("nav.menu");window.addEventListener("load",(function(e){S();var t=function(e){var t=e.firstElementChild.cloneNode(!0),n=document.querySelector(".header.clone");return n.appendChild(t),n}(a),n=document.querySelectorAll("ul>li[data-nav]"),i=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(t.classList.remove("active"),h(s,null)):(t.classList.add("active"),y(s))}))}),{rootMargin:"-".concat(c.offsetHeight,"px 0px 0px 0px")}),r=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&n.forEach((function(t){t.classList.remove("active"),e.target.classList.contains(t.dataset.nav)&&t.classList.add("active")}))}))}),{threshold:.5});if(i.observe(c),l.forEach((function(e){r.observe(e)})),r.observe(a),o<768){!function(){var e=document.createElement("div");e.classList.add("menu-mobile");for(var t=0;t<3;t++){var n=document.createElement("span");e.append(n)}u.after(e)}(),console.log(t);var m=document.querySelectorAll(".menu-mobile").item(0),d=document.querySelectorAll("nav.menu").item(0),v=document.querySelectorAll("nav.menu>ul>li");d.remove(),m.addEventListener("click",(function(e){u.classList.toggle("active"),e.currentTarget.classList.toggle("active")})),v.forEach((function(e){e.addEventListener("click",(function(e){u.classList.remove("active"),m.classList.remove("active")}))}))}})),emailjs.init("9CEj6LfIzI9NzUiv_");var m={name:r.querySelector('input[name="username"]'),email:r.querySelector('input[type="email"]'),message:r.querySelector("textarea"),submit:r.querySelector('input[type="submit"]')},d=!1,v=!1,f=!1;for(var p in m)m[p].addEventListener("input",(function(e){var t=e.currentTarget;t.value.length>0?(t.classList.add("active"),t.previousElementSibling.classList.add("active"),g(t)):(t.nextSibling.remove(),t.classList.remove("active","invalid"),t.previousElementSibling.classList.remove("active"))}));function g(e){var t=function(e){var t={min:3,max:23},n={min:5,max:1e3};if(e.isSameNode(m.name))return e.value.length<t.min?(d=!1,"Nome muito pequeno. Precisa conter pelo menos ".concat(t.min," caracteres.")):e.value.length>t.max?(d=!1,"Nome muito grande. Pode conter até ".concat(t.max," caracteres.")):(d=!0,!0);if(e.isSameNode(m.email)){return e.value.match(/^[^ ]+@[^ ]+\.[a-z]{2,3}$/)?(v=!0,!0):(v=!1,"O padrão de e-mail não é válido.")}return e.isSameNode(m.message)?e.value.length<n.min||e.value.length>n.max?(f=!1,"A mensagem precisa estar entre ".concat(n.min," e ").concat(n.max," caracteres.")):(f=!0,!0):e.isSameNode(m.submit)?!d&&!v&&!0===f||"Você precisa preencher todos os campos antes de validar!":void 0}(e);if(!e.nextElementSibling){var n=document.createElement("p");n.classList.add("log"),e.after(n)}!0===t?(e.classList.remove("invalid"),e.nextSibling.remove()):(e.classList.add("invalid"),e.nextElementSibling.textContent=t,e.nextSibling.style.top="-".concat(e.nextSibling.offsetHeight+10,"px"))}function S(){var e=document.querySelector(".sc.intro .mask");e.style.borderRightWidth="".concat(e.parentNode.offsetWidth,"px"),e.style.borderTopWidth="".concat(e.parentNode.offsetHeight,"px")}function y(e){e.style.visibility="visible",window.setTimeout((function(){return e.style.opacity=1}),30)}function h(e,t){null===t&&(t=300),e.style.opacity=0,window.setTimeout((function(){return e.style.visibility="hidden"}),t)}var b=function(){return Date.now()/1e3|0};r.addEventListener("submit",(function(e){if(e.preventDefault(),d&&v&&f){var t=document.querySelector(".sc.contact .popup"),o=t.querySelector(".info"),a=t.querySelector(".lds-ring");if((n=localStorage.token)&&i||(n=localStorage.token=3,i=localStorage.lastTimestamp=b()),n>0)n--,localStorage.token=n,a.style.display="inline-block",o.textContent="Enviando",y(t),e.target.id_number.value=1e5*Math.random()|0,e.target.to_name.value="Philippe",console.log("Enviado"),window.setTimeout((function(){h(t)}),2e3),emailjs.sendForm("service_5isf3yr","template_3fubw4l",e.target).then((function(){for(var e in r.reset(),m)m[e].classList.remove("active"),m[e].previousElementSibling.classList.remove("active");f=!1,a.style.display="none",o.textContent="Sua mensagem foi enviada!",window.setTimeout((function(){h(t)}),2e3)}));else(b()-i)/60/60>24?(n=localStorage.token=3,i=localStorage.lastTimestamp=b()):console.log("Você só poderá enviar outra mensagem após ".concat(24," horas."))}else g(e.target.querySelector('input[type="submit"]'))})),window.addEventListener("resize",(function(e){S(),window.innerWidth})),s.addEventListener("click",(function(e){window.scrollTo({top:0,behavior:"smooth"})}))})();